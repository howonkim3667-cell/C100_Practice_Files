#include <stdio.h>

/*
 * [C 문자열 기본 개념 정리]
 *
 * 1) C에는 문자열(string)이라는 전용 변수 타입이 없음
 *    - C에서 문자열은 별도의 타입이 아니라
 *      '문자(char)의 배열'로 표현됨
 *
 * 2) 문자열을 처리하려면 문자의 배열(char[])을 사용해야 함
 *    - 배열의 시작 주소 = 문자열의 시작
 *    - 문자열의 끝은 널 종료 문자 '\0'이 있는 위치로 판단
 *
 * 3) C 언어에서 문자열이 시작되는 곳은
 *    - 문자 배열의 이름(배열의 첫 요소 주소)으로 알 수 있음
 *
 * 4) 문자열이 끝나는 지점은
 *    - '\0' (널 종료 문자)가 저장된 위치까지임
 *
 * 5) '\0'의 의미
 *    - 값이 0인 문자
 *    - 내부적으로는 8비트가 모두 0인 바이트
 *    - NULL 문자(null character)
 *    - 문자열의 끝을 표시하기 위한 약속된 종료 마커
 *
 * 6) 한글 관련 주의사항
 *    - "한글은 한 글자가 2바이트"라는 말은
 *      특정 문자 인코딩(EUC-KR, UTF-16 등)에서만 맞는 설명임
 *    - 현대 C 컴파일러 환경(대부분 UTF-8)에서는
 *      한글 한 글자가 보통 3바이트로 저장됨
 *    - 따라서 한글 문자열은
 *      '문자 수'와 '바이트 수(char 배열 크기)'가 다를 수 있음
 */

int main(void)
{
    char s[10] = {'a','b','c','d','e'};
    /*
     * s는 문자 배열이지만 문자열은 아님
     * - '\0'이 포함되어 있지 않음
     * - %s로 출력 시 '\0'을 만날 때까지 메모리를 계속 읽게 되어
     *   정의되지 않은 동작(쓰레기 값 출력)이 발생할 수 있음
     * - 배열 크기(10)와 문자열 종료 여부는 별개 개념
     */

    char t[] = {'a','b','c','d','e', '\0'};
    /*
     * t는 명시적으로 '\0'을 포함한 문자 배열
     * - 문자열의 조건을 만족
     * - %s 출력 시 "abcde"까지만 정상 출력됨
     */

    char u[] = "abcde";
    /*
     * 문자열 리터럴을 사용한 경우
     * - 컴파일러가 자동으로 끝에 '\0'을 추가
     * - 실제 메모리 구성: {'a','b','c','d','e','\0'}
     * - 배열 크기: 6바이트
     */

    char v[] = "안녕하세요";
    /*
     * 한글 문자열 리터럴
     * - UTF-8 기준으로 한글 1글자 = 3바이트
     * - "안녕하세요" = 5글자 → 15바이트
     * - 문자열 종료 문자 '\0' = 1바이트
     * - 총 배열 크기 = 16바이트
     */

    printf("s = |%s| size = %d\n", s, sizeof(s));
    /*
     * s는 문자열이 아니므로 출력 결과는 예측 불가
     * - 우연히 만난 '\0'까지 출력됨
     */

    printf("t = |%s| size = %d\n", t, sizeof(t));
    /*
     * 정상적인 문자열 출력
     * size = 6
     */

    printf("u = |%s| size = %d\n", u, sizeof(u));
    /*
     * 문자열 리터럴 사용 → 자동 '\0'
     * size = 6
     */

    printf("v = |%s| size = %d\n", v, sizeof(v));
    /*
     * UTF-8 한글 문자열 출력
     * size = 16 (바이트 수 기준)
     */

    return 0;
}
